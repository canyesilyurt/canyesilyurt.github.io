<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Sniglet&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Sniglet&display=swap" rel="stylesheet">
</head>

<body>
    <! –– first scene ––> 
    <div id="opening">
        <div id="startgame">Oyunu Başlat</div>
        <div id="inst">Doğru cevapları ver kazan! </div>
        <! -- rules of the game , so user won't just spam buttons --!>
        <p id="inst2">Yanlış Cevap : -100€  </p>
        <p id="inst3">Doğru Cevap : +100€  </p>
    </div>
    <! –– after pressing start game ––> 
    <div id="startquiz">
        <div id="score"></div>
        <div id="correct">+100€ Tebrikler</div>
        <div id="wrong">-100€ Üzgünüm</div>
        <div id="questions">an Example question Lengardium laviowsa
        </div>
        <div id="options">
            <div id="choice1" class="choice">EVET</div>
            <div id="choice2" class="choice">HAYIR</div>
        </div>
        <div id="start">Tekrar Başlat</div>
        <div id="timeremaining"></div>
        <div id="endgame"><p>:^)</p><p>Skorun  :  <span class="scorevalue"></span></p></div>
    </div>

    <script>
//variable to start timer
var action;
//set time remaining
var timeremaining = 100;
//score
var score;
//Start Game
document.getElementById("startgame").onclick = function () {
    show("startquiz");
    hide("opening");
    hide("startgame");
    startimer();
    showquestion();
}
//Restart Game
document.getElementById("start").onclick = function () {
    document.location.reload();

}

//hide div
function hide(Id) {
    document.getElementById(Id).style.display = "none";
}
//show div
function show(Id) {
    document.getElementById(Id).style.display = "block";
}

//start timer and end game when timer is out
function startimer() {
    action = setInterval(function () {
        timeremaining -= 1;
        document.getElementById("timeremaining").innerHTML = timeremaining;
        if (timeremaining == 0) {
            stoptimer();
            show("endgame");
            hide("score");
            hide("timeremaining");
            document.getElementById("endgame").innerHTML =
                "<p>Oyun Bitti, Kulaklık İçin Teşekkürler!</p><p>Skorun :" + score + "</p>";
        }
    }, 1000);
}
//stop timer
function stoptimer() {
    clearInterval(action);
}


//show queestion
function showquestion() {
    var
        arr = [{
                question: "Keyfiniz iyi mi?",
                answer: "EVET"
            },
            {
                question: "Apple Store'a gittiniz mi?",
                answer: "EVET"
            },
            {
                question: "Kulaklıklara baktınız mı?",
                answer: "EVET"
            },
            {
                question: "Kulaklık alacak mısın?",
                answer: "EVET"
            },
            {
                question: "Hangi kulaklığı alacağını biliyor musun?",
                answer: "EVET"
            },
            {
                question: "Tax Free hakkında bilgilendirildin mi?",
                answer: "EVET"
            },
            {
                question: "Airpods Max siparişini oluşturdun mu?",
                answer: "EVET"
            },
            {
                question: "Döndüğünüzde kulaklığı getirmiş olacak mısın?",
                answer: "EVET"
            },
            {
                question: "Söz mü?",
                answer: "EVET"
            },
            
        ]
    var yes = document.getElementById("choice1");
    var no = document.getElementById("choice2");

    i = 0;
    score = 0;
    document.getElementById("score").innerHTML = "skor: " + score;
    document.getElementById("questions").innerHTML = (arr[i].question);
    document.getElementById("choice" + 1).onclick = function () {
        if (arr[i].answer == yes.innerHTML) {
            score = score + 100;
            document.getElementById("score").innerHTML = "skor: " + score;
            testi();
            setTimeout(function(){document.getElementById("questions").innerHTML = (arr[i].question)},800);
            show("correct");
            hide("wrong");
            setTimeout(function(){hide("correct")},800);
        } else {
            score = score - 100;
            document.getElementById("score").innerHTML = "skor: " + score;
            hide("correct");
            show("wrong");
            setTimeout(function(){hide("wrong")},300);
        }
    }

    document.getElementById("choice" + 2).onclick = function () {
        if (arr[i].answer == no.innerHTML) {
            testi();
            setTimeout(function(){document.getElementById("questions").innerHTML = (arr[i].question)},800);
            score = score + 100;
            document.getElementById("score").innerHTML = "skor: " + score;
            show("correct");
            hide("wrong");
            setTimeout(function(){hide("correct")},800);
        } else {
            score = score - 100;
            document.getElementById("score").innerHTML = "skor: " + score;
            hide("correct");
            show("wrong");
            setTimeout(function(){hide("wrong")},300);
        }
    }


    
}



//end game if user finished all questions before time out
function testi() {
    if (i == 18) {
        stoptimer();
        show("endgame");
        hide("score");
        hide("timeremaining");
        document.getElementById("endgame").innerHTML =
            "<p>:^)</p><p>Skorun :" + score + "</p>";
    } else {
        i++;
    }
}

    </script>
</body>

</html>